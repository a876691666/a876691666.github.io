[{"data":1,"prerenderedAt":305},["ShallowReactive",2],{"category-data-workers":3},[4],{"id":5,"title":6,"body":7,"description":291,"extension":292,"meta":293,"navigation":300,"ogImage":295,"path":301,"seo":302,"stem":303,"__hash__":304},"content/blogs/cf-proxy-docker-image.md","ä½¿ç”¨ Cloudflare Workers æ­å»º Docker é•œåƒä»£ç†",{"type":8,"value":9,"toc":286},"minimark",[10,14,18,36,42,45,59,62,65,68,73,84,90,93,122,125,129,143,146,149,153,156,159,162,165,185,188,212,216,223,282],[11,12,13],"h3",{"id":13},"èƒŒæ™¯",[15,16,17],"p",{},"ç›®å‰å›½å†… docker åŠ é€Ÿæºé€æ¸ç”¨ä¸äº†äº†ã€‚å°±æƒ³ç€è‡ªå·±æ­ä¸€ä¸ªé•œåƒä¸­è½¬çš„èŠ‚ç‚¹ã€‚",[15,19,20,21,31,32,35],{},"è¿™é‡Œä½¿ç”¨ ",[22,23,27],"a",{"href":24,"rel":25},"https://singee.atlassian.net/wiki/spaces/MAIN/pages/5079084/Cloudflare+Workers+Docker",[26],"nofollow",[28,29,30],"code",{},"hammal"," çš„æ–¹æ¡ˆï¼Œé€šè¿‡ ",[28,33,34],{},"Cloudflare Workers"," æ­å»ºã€‚",[15,37,38],{},[22,39,41],{"href":24,"rel":40},[26],"hammalå®˜æ–¹æ•™ç¨‹",[11,43,44],{"id":44},"å‰æ",[46,47,48,56],"ul",{},[49,50,51,52,55],"li",{},"ç½‘ç»œç¯å¢ƒèƒ½æ­£å¸¸è®¿é—®",[28,53,54],{},"cloudflare","ã€‚",[49,57,58],{},"æœ‰è‡ªå·±çš„åŸŸåã€‚",[11,60,61],{"id":61},"å®‰è£…æ–¹æ³•",[15,63,64],{},"è¿™é‡Œæˆªå–å®˜æ–¹æ•™ç¨‹çš„éƒ¨åˆ†ã€‚",[66,67],"hr",{},[69,70,72],"h4",{"id":71},"fork-clone","Fork & Clone",[15,74,75,76,83],{},"é¦–å…ˆ fork ä»“åº“ ",[22,77,80],{"href":78,"rel":79},"https://github.com/ImSingee/hammal",[26],[28,81,82],{},"GitHub - ImSingee/hammal: docker-registry proxy run in cloudflare workers"," ï¼Œå¹¶å…‹éš†åˆ°æœ¬åœ°",[85,86,87],"blockquote",{},[15,88,89],{},"å¯ä»¥çš„è¯é¡ºä¾¿ç»™ä¸ª StarğŸ˜‚",[15,91,92],{},"ä½¿ç”¨ pnpm install å®‰è£…ä¾èµ–ã€‚æ²¡æœ‰çš„è¯ä½¿ç”¨ npm å®‰è£… pnpmã€‚",[94,95,100],"pre",{"className":96,"code":97,"language":98,"meta":99,"style":99},"language-bash shiki shiki-themes dracula","npm install -g pnpm\n","bash","",[28,101,102],{"__ignoreMap":99},[103,104,107,111,115,119],"span",{"class":105,"line":106},"line",1,[103,108,110],{"class":109},"sAOxA","npm",[103,112,114],{"class":113},"s-mGx"," install",[103,116,118],{"class":117},"sIQBb"," -g",[103,120,121],{"class":113}," pnpm\n",[15,123,124],{},"å…¶å®è¿™é‡Œä¸ç¡®å®šnpmå’Œpnpmå¯¹é¡¹ç›®åŒ…å®‰è£…æœ‰ä»€ä¹ˆå½±å“ï¼Œèƒ½ç”¨pnpmå°½é‡ç”¨pnpmã€‚",[69,126,128],{"id":127},"åˆ›å»º-workers-é¡¹ç›®","åˆ›å»º Workers é¡¹ç›®",[15,130,131,132,135,136,135,139,142],{},"è¿›å…¥ ",[28,133,134],{},"Cloudflare Dashboard"," -> ",[28,137,138],{},"Workers å’Œ Pages",[28,140,141],{},"æ¦‚è¿°"," åˆ›å»ºä¸€ä¸ªæ–°çš„ Workers é¡¹ç›®ï¼Œç»™ä»–ä¸€ä¸ªå‘½åï¼ˆä¾‹å¦‚ hammalï¼‰",[15,144,145],{},"åœ¨ä»£ç ä¸­å¤åˆ¶ wrangler.toml.sample æ–‡ä»¶, æ”¹å wrangler.toml å¹¶ä¿®æ”¹å…¶ name å’Œ account_id",[15,147,148],{},"name: åˆ›å»ºçš„ Worders é¡¹ç›®å\naccount_id: å¯ä»¥é€šè¿‡ npx wrangler whoami è·å¾—ï¼Œä¹Ÿå¯ä»¥åœ¨ Workers æ¦‚è¿°é¡µé¢å³ä¾§çš„è´¦æˆ·IDå¤„å¤åˆ¶ã€‚",[69,150,152],{"id":151},"åˆ›å»º-cache-ç¼“å­˜-kv","åˆ›å»º cache ç¼“å­˜ kv",[15,154,155],{},"åœ¨å…‹éš†å¥½çš„é¡¹ç›®ç›®å½•ä¸‹æ‰§è¡Œ npx wrangler kv:namespace create hammal_cache æ¥åˆ›å»ºç¼“å­˜ kvï¼Œè®°å½•ä¸‹æ¥è¾“å‡ºçš„ idï¼Œå¡«å†™åˆ° wrangler.toml æ–‡ä»¶ä¸­",[69,157,158],{"id":158},"éƒ¨ç½²",[15,160,161],{},"åœ¨å…‹éš†å¥½çš„é¡¹ç›®ç›®å½•ä¸‹æ‰§è¡Œ pnpm run deploy æ¥éƒ¨ç½²é¡¹ç›®",[69,163,164],{"id":164},"åŸŸå",[15,166,167,168,171,172,135,175,135,178,135,181,184],{},"æœ‰åŸŸååˆ™éœ€è¦æŠŠåŸŸåçš„ ",[28,169,170],{},"åç§°æœåŠ¡å™¨(name server)"," æ”¹åˆ° cloudflare ä¸Šï¼Œå¯ä»¥åœ¨ ",[28,173,174],{},"ç½‘ç«™",[28,176,177],{},"æ·»åŠ çš„åŸŸå",[28,179,180],{},"DNS",[28,182,183],{},"è®°å½•"," é¡µé¢ä¸‹è·å–ã€‚",[15,186,187],{},"è®¾ç½®åä¸€èˆ¬ç­‰å¾…24å°æ—¶å³å¯åœ¨ cloudflare ä¸Šæ§åˆ¶åŸŸåè§£æã€‚",[15,189,190,191,135,193,135,196,135,199,135,202,135,205,208,209,55],{},"å¯ä»¥è§£æåå‰å¾€ ",[28,192,138],{},[28,194,195],{},"ç”¨æ¥è·å–dockerçš„Workder",[28,197,198],{},"è®¾ç½®",[28,200,201],{},"è§¦å‘å™¨",[28,203,204],{},"è‡ªå®šä¹‰åŸŸ",[28,206,207],{},"æ·»åŠ è‡ªå®šä¹‰åŸŸ","ã€‚ç›´æ¥è¾“å…¥å®Œæ•´è®¿é—®åŸŸåå³å¯ã€‚ä¾‹å¦‚",[28,210,211],{},"mirror.docker.xxx.com",[69,213,215],{"id":214},"æœ¬åœ°dockerè®¾ç½®","æœ¬åœ°Dockerè®¾ç½®",[15,217,218,219,222],{},"ä½¿ç”¨è‡ªå®šä¹‰çš„åŸŸåè®¾ç½® ",[28,220,221],{},"deamon.json","ã€‚é€šå¸¸åœ¨ /etc/docker/daemon.json ã€‚",[94,224,226],{"className":96,"code":225,"language":98,"meta":99,"style":99},"sudo tee /etc/docker/daemon.json \u003C\u003CEOF\n{\n  \"registry-mirrors\": [\n    \"https://mirror.docker.xxx.com\"\n  ]\n}\nEOF\n",[28,227,228,247,253,259,265,271,277],{"__ignoreMap":99},[103,229,230,233,236,239,243],{"class":105,"line":106},[103,231,232],{"class":109},"sudo",[103,234,235],{"class":113}," tee",[103,237,238],{"class":113}," /etc/docker/daemon.json",[103,240,242],{"class":241},"s0Tla"," \u003C\u003C",[103,244,246],{"class":245},"sCdxs","EOF\n",[103,248,250],{"class":105,"line":249},2,[103,251,252],{"class":113},"{\n",[103,254,256],{"class":105,"line":255},3,[103,257,258],{"class":113},"  \"registry-mirrors\": [\n",[103,260,262],{"class":105,"line":261},4,[103,263,264],{"class":113},"    \"https://mirror.docker.xxx.com\"\n",[103,266,268],{"class":105,"line":267},5,[103,269,270],{"class":113},"  ]\n",[103,272,274],{"class":105,"line":273},6,[103,275,276],{"class":113},"}\n",[103,278,280],{"class":105,"line":279},7,[103,281,246],{"class":245},[283,284,285],"style",{},"html pre.shiki code .sAOxA, html code.shiki .sAOxA{--shiki-default:#50FA7B}html pre.shiki code .s-mGx, html code.shiki .s-mGx{--shiki-default:#F1FA8C}html pre.shiki code .sIQBb, html code.shiki .sIQBb{--shiki-default:#BD93F9}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html pre.shiki code .s0Tla, html code.shiki .s0Tla{--shiki-default:#FF79C6}html pre.shiki code .sCdxs, html code.shiki .sCdxs{--shiki-default:#F8F8F2}",{"title":99,"searchDepth":249,"depth":249,"links":287},[288,289,290],{"id":13,"depth":255,"text":13},{"id":44,"depth":255,"text":44},{"id":61,"depth":255,"text":61},"é€šè¿‡ Cloudflare Workers æ­å»ºè‡ªå·±çš„ Docker é•œåƒä¸­è½¬èŠ‚ç‚¹ï¼Œè§£å†³å›½å†… Docker åŠ é€Ÿæºä¸å¯ç”¨çš„é—®é¢˜","md",{"date":294,"image":295,"alt":6,"tags":296,"published":300},"2023-08-01","/blogs-img/blog4.jpg",[297,54,298,299],"docker","proxy","workers",true,"/blogs/cf-proxy-docker-image",{"title":6,"description":291},"blogs/cf-proxy-docker-image","uvjF0i1HNicuC3sFZZAA8mwBpx30uBVk4OlIvYCQr_k",1751196003387]