[{"data":1,"prerenderedAt":304},["ShallowReactive",2],{"blog-post-/blogs/cf-proxy-docker-image":3},{"id":4,"title":5,"body":6,"description":290,"extension":291,"meta":292,"navigation":299,"ogImage":294,"path":300,"seo":301,"stem":302,"__hash__":303},"content/blogs/cf-proxy-docker-image.md","ä½¿ç”¨ Cloudflare Workers æ­å»º Docker é•œåƒä»£ç†",{"type":7,"value":8,"toc":285},"minimark",[9,13,17,35,41,44,58,61,64,67,72,83,89,92,121,124,128,142,145,148,152,155,158,161,164,184,187,211,215,222,281],[10,11,12],"h3",{"id":12},"èƒŒæ™¯",[14,15,16],"p",{},"ç›®å‰å›½å†… docker åŠ é€Ÿæºé€æ¸ç”¨ä¸äº†äº†ã€‚å°±æƒ³ç€è‡ªå·±æ­ä¸€ä¸ªé•œåƒä¸­è½¬çš„èŠ‚ç‚¹ã€‚",[14,18,19,20,30,31,34],{},"è¿™é‡Œä½¿ç”¨ ",[21,22,26],"a",{"href":23,"rel":24},"https://singee.atlassian.net/wiki/spaces/MAIN/pages/5079084/Cloudflare+Workers+Docker",[25],"nofollow",[27,28,29],"code",{},"hammal"," çš„æ–¹æ¡ˆï¼Œé€šè¿‡ ",[27,32,33],{},"Cloudflare Workers"," æ­å»ºã€‚",[14,36,37],{},[21,38,40],{"href":23,"rel":39},[25],"hammalå®˜æ–¹æ•™ç¨‹",[10,42,43],{"id":43},"å‰æ",[45,46,47,55],"ul",{},[48,49,50,51,54],"li",{},"ç½‘ç»œç¯å¢ƒèƒ½æ­£å¸¸è®¿é—®",[27,52,53],{},"cloudflare","ã€‚",[48,56,57],{},"æœ‰è‡ªå·±çš„åŸŸåã€‚",[10,59,60],{"id":60},"å®‰è£…æ–¹æ³•",[14,62,63],{},"è¿™é‡Œæˆªå–å®˜æ–¹æ•™ç¨‹çš„éƒ¨åˆ†ã€‚",[65,66],"hr",{},[68,69,71],"h4",{"id":70},"fork-clone","Fork & Clone",[14,73,74,75,82],{},"é¦–å…ˆ fork ä»“åº“ ",[21,76,79],{"href":77,"rel":78},"https://github.com/ImSingee/hammal",[25],[27,80,81],{},"GitHub - ImSingee/hammal: docker-registry proxy run in cloudflare workers"," ï¼Œå¹¶å…‹éš†åˆ°æœ¬åœ°",[84,85,86],"blockquote",{},[14,87,88],{},"å¯ä»¥çš„è¯é¡ºä¾¿ç»™ä¸ª StarğŸ˜‚",[14,90,91],{},"ä½¿ç”¨ pnpm install å®‰è£…ä¾èµ–ã€‚æ²¡æœ‰çš„è¯ä½¿ç”¨ npm å®‰è£… pnpmã€‚",[93,94,99],"pre",{"className":95,"code":96,"language":97,"meta":98,"style":98},"language-bash shiki shiki-themes dracula","npm install -g pnpm\n","bash","",[27,100,101],{"__ignoreMap":98},[102,103,106,110,114,118],"span",{"class":104,"line":105},"line",1,[102,107,109],{"class":108},"sAOxA","npm",[102,111,113],{"class":112},"s-mGx"," install",[102,115,117],{"class":116},"sIQBb"," -g",[102,119,120],{"class":112}," pnpm\n",[14,122,123],{},"å…¶å®è¿™é‡Œä¸ç¡®å®šnpmå’Œpnpmå¯¹é¡¹ç›®åŒ…å®‰è£…æœ‰ä»€ä¹ˆå½±å“ï¼Œèƒ½ç”¨pnpmå°½é‡ç”¨pnpmã€‚",[68,125,127],{"id":126},"åˆ›å»º-workers-é¡¹ç›®","åˆ›å»º Workers é¡¹ç›®",[14,129,130,131,134,135,134,138,141],{},"è¿›å…¥ ",[27,132,133],{},"Cloudflare Dashboard"," -> ",[27,136,137],{},"Workers å’Œ Pages",[27,139,140],{},"æ¦‚è¿°"," åˆ›å»ºä¸€ä¸ªæ–°çš„ Workers é¡¹ç›®ï¼Œç»™ä»–ä¸€ä¸ªå‘½åï¼ˆä¾‹å¦‚ hammalï¼‰",[14,143,144],{},"åœ¨ä»£ç ä¸­å¤åˆ¶ wrangler.toml.sample æ–‡ä»¶, æ”¹å wrangler.toml å¹¶ä¿®æ”¹å…¶ name å’Œ account_id",[14,146,147],{},"name: åˆ›å»ºçš„ Worders é¡¹ç›®å\naccount_id: å¯ä»¥é€šè¿‡ npx wrangler whoami è·å¾—ï¼Œä¹Ÿå¯ä»¥åœ¨ Workers æ¦‚è¿°é¡µé¢å³ä¾§çš„è´¦æˆ·IDå¤„å¤åˆ¶ã€‚",[68,149,151],{"id":150},"åˆ›å»º-cache-ç¼“å­˜-kv","åˆ›å»º cache ç¼“å­˜ kv",[14,153,154],{},"åœ¨å…‹éš†å¥½çš„é¡¹ç›®ç›®å½•ä¸‹æ‰§è¡Œ npx wrangler kv:namespace create hammal_cache æ¥åˆ›å»ºç¼“å­˜ kvï¼Œè®°å½•ä¸‹æ¥è¾“å‡ºçš„ idï¼Œå¡«å†™åˆ° wrangler.toml æ–‡ä»¶ä¸­",[68,156,157],{"id":157},"éƒ¨ç½²",[14,159,160],{},"åœ¨å…‹éš†å¥½çš„é¡¹ç›®ç›®å½•ä¸‹æ‰§è¡Œ pnpm run deploy æ¥éƒ¨ç½²é¡¹ç›®",[68,162,163],{"id":163},"åŸŸå",[14,165,166,167,170,171,134,174,134,177,134,180,183],{},"æœ‰åŸŸååˆ™éœ€è¦æŠŠåŸŸåçš„ ",[27,168,169],{},"åç§°æœåŠ¡å™¨(name server)"," æ”¹åˆ° cloudflare ä¸Šï¼Œå¯ä»¥åœ¨ ",[27,172,173],{},"ç½‘ç«™",[27,175,176],{},"æ·»åŠ çš„åŸŸå",[27,178,179],{},"DNS",[27,181,182],{},"è®°å½•"," é¡µé¢ä¸‹è·å–ã€‚",[14,185,186],{},"è®¾ç½®åä¸€èˆ¬ç­‰å¾…24å°æ—¶å³å¯åœ¨ cloudflare ä¸Šæ§åˆ¶åŸŸåè§£æã€‚",[14,188,189,190,134,192,134,195,134,198,134,201,134,204,207,208,54],{},"å¯ä»¥è§£æåå‰å¾€ ",[27,191,137],{},[27,193,194],{},"ç”¨æ¥è·å–dockerçš„Workder",[27,196,197],{},"è®¾ç½®",[27,199,200],{},"è§¦å‘å™¨",[27,202,203],{},"è‡ªå®šä¹‰åŸŸ",[27,205,206],{},"æ·»åŠ è‡ªå®šä¹‰åŸŸ","ã€‚ç›´æ¥è¾“å…¥å®Œæ•´è®¿é—®åŸŸåå³å¯ã€‚ä¾‹å¦‚",[27,209,210],{},"mirror.docker.xxx.com",[68,212,214],{"id":213},"æœ¬åœ°dockerè®¾ç½®","æœ¬åœ°Dockerè®¾ç½®",[14,216,217,218,221],{},"ä½¿ç”¨è‡ªå®šä¹‰çš„åŸŸåè®¾ç½® ",[27,219,220],{},"deamon.json","ã€‚é€šå¸¸åœ¨ /etc/docker/daemon.json ã€‚",[93,223,225],{"className":95,"code":224,"language":97,"meta":98,"style":98},"sudo tee /etc/docker/daemon.json \u003C\u003CEOF\n{\n  \"registry-mirrors\": [\n    \"https://mirror.docker.xxx.com\"\n  ]\n}\nEOF\n",[27,226,227,246,252,258,264,270,276],{"__ignoreMap":98},[102,228,229,232,235,238,242],{"class":104,"line":105},[102,230,231],{"class":108},"sudo",[102,233,234],{"class":112}," tee",[102,236,237],{"class":112}," /etc/docker/daemon.json",[102,239,241],{"class":240},"s0Tla"," \u003C\u003C",[102,243,245],{"class":244},"sCdxs","EOF\n",[102,247,249],{"class":104,"line":248},2,[102,250,251],{"class":112},"{\n",[102,253,255],{"class":104,"line":254},3,[102,256,257],{"class":112},"  \"registry-mirrors\": [\n",[102,259,261],{"class":104,"line":260},4,[102,262,263],{"class":112},"    \"https://mirror.docker.xxx.com\"\n",[102,265,267],{"class":104,"line":266},5,[102,268,269],{"class":112},"  ]\n",[102,271,273],{"class":104,"line":272},6,[102,274,275],{"class":112},"}\n",[102,277,279],{"class":104,"line":278},7,[102,280,245],{"class":244},[282,283,284],"style",{},"html pre.shiki code .sAOxA, html code.shiki .sAOxA{--shiki-default:#50FA7B}html pre.shiki code .s-mGx, html code.shiki .s-mGx{--shiki-default:#F1FA8C}html pre.shiki code .sIQBb, html code.shiki .sIQBb{--shiki-default:#BD93F9}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html pre.shiki code .s0Tla, html code.shiki .s0Tla{--shiki-default:#FF79C6}html pre.shiki code .sCdxs, html code.shiki .sCdxs{--shiki-default:#F8F8F2}",{"title":98,"searchDepth":248,"depth":248,"links":286},[287,288,289],{"id":12,"depth":254,"text":12},{"id":43,"depth":254,"text":43},{"id":60,"depth":254,"text":60},"é€šè¿‡ Cloudflare Workers æ­å»ºè‡ªå·±çš„ Docker é•œåƒä¸­è½¬èŠ‚ç‚¹ï¼Œè§£å†³å›½å†… Docker åŠ é€Ÿæºä¸å¯ç”¨çš„é—®é¢˜","md",{"date":293,"image":294,"alt":5,"tags":295,"published":299},"2023-08-01","/blogs-img/blog4.jpg",[296,53,297,298],"docker","proxy","workers",true,"/blogs/cf-proxy-docker-image",{"title":5,"description":290},"blogs/cf-proxy-docker-image","uvjF0i1HNicuC3sFZZAA8mwBpx30uBVk4OlIvYCQr_k",1751196002982]